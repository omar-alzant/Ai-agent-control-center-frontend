{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/OMAR/Desktop/ai-agent-control-center/frontend/app/components/ChatInterface.tsx"],"sourcesContent":["\"use client\";\r\nimport { useState, useEffect } from 'react';\r\nimport { api } from \"../lib/api\"; // Use your api helper\r\n\r\ninterface Message {\r\n  role: 'user' | 'assistant' | 'system';\r\n  content: string;\r\n}\r\n\r\nexport function ChatInterface({ agentId }: { agentId: string }) {\r\n  const [messages, setMessages] = useState<Message[]>([]);\r\n  const [input, setInput] = useState('');\r\n  const [isTyping, setIsTyping] = useState(false);\r\n  const [agentName, setAgentName] = useState(\"Agent\");\r\n\r\n  // Optional: Fetch agent name to show in the placeholder\r\n  useEffect(() => {\r\n    fetch(`http://localhost:4000/api/agents`)\r\n      .then(res => res.json())\r\n      .then(agents => {\r\n        const current = agents.find((a: any) => a.id === agentId);\r\n        if (current) setAgentName(current.name);\r\n      });\r\n  }, [agentId]);\r\n\r\n  const sendMessage = async () => {\r\n    if (!input.trim()) return;\r\n\r\n    const userMsg: Message = { role: 'user', content: input };\r\n    setMessages(prev => [...prev, userMsg]);\r\n    setInput('');\r\n    setIsTyping(true);\r\n\r\n    try {\r\n      const res = await fetch('http://localhost:4000/api/chat', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ \r\n          agentId: agentId, // Pass ID instead of config object\r\n          message: input \r\n        })\r\n      });\r\n\r\n      const data = await res.json();\r\n      const assistantMsg: Message = { role: 'assistant', content: data.content };\r\n      setMessages(prev => [...prev, assistantMsg]);\r\n    } catch (err) {\r\n      console.error(\"Failed to send\", err);\r\n    } finally {\r\n      setIsTyping(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex flex-col h-full bg-zinc-900 rounded-xl border border-zinc-800 overflow-hidden\">\r\n      <div className=\"flex-1 overflow-y-auto p-4 space-y-4\">\r\n        {messages.map((m, i) => (\r\n          <div key={i} className={`flex ${m.role === 'user' ? 'justify-end' : 'justify-start'}`}>\r\n            <div className={`max-w-[80%] p-3 rounded-2xl ${\r\n              m.role === 'user' ? 'bg-blue-600 text-white' : 'bg-zinc-800 text-zinc-100 border border-zinc-700'\r\n            }`}>\r\n              {m.content}\r\n            </div>\r\n          </div>\r\n        ))}\r\n        {isTyping && <div className=\"text-xs text-zinc-500 animate-pulse px-2\">Agent is thinking...</div>}\r\n      </div>\r\n      \r\n      <div className=\"p-4 border-t border-zinc-800 bg-zinc-900/50 flex gap-2\">\r\n        <input \r\n          className=\"flex-1 bg-zinc-800 border border-zinc-700 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 text-white\"\r\n          value={input}\r\n          onChange={(e) => setInput(e.target.value)}\r\n          onKeyDown={(e) => e.key === 'Enter' && sendMessage()}\r\n          placeholder={`Message ${agentName}...`}\r\n        />\r\n        <button onClick={sendMessage} className=\"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg font-medium transition-colors\">\r\n          Send\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AACA;;;AADA;;AASO,SAAS,cAAc,EAAE,OAAO,EAAuB;;IAC5D,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAY,EAAE;IACtD,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAC;IACnC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;IACzC,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAE3C,wDAAwD;IACxD,IAAA,0KAAS;mCAAC;YACR,MAAM,CAAC,gCAAgC,CAAC,EACrC,IAAI;2CAAC,CAAA,MAAO,IAAI,IAAI;0CACpB,IAAI;2CAAC,CAAA;oBACJ,MAAM,UAAU,OAAO,IAAI;2DAAC,CAAC,IAAW,EAAE,EAAE,KAAK;;oBACjD,IAAI,SAAS,aAAa,QAAQ,IAAI;gBACxC;;QACJ;kCAAG;QAAC;KAAQ;IAEZ,MAAM,cAAc;QAClB,IAAI,CAAC,MAAM,IAAI,IAAI;QAEnB,MAAM,UAAmB;YAAE,MAAM;YAAQ,SAAS;QAAM;QACxD,YAAY,CAAA,OAAQ;mBAAI;gBAAM;aAAQ;QACtC,SAAS;QACT,YAAY;QAEZ,IAAI;YACF,MAAM,MAAM,MAAM,MAAM,kCAAkC;gBACxD,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;oBACnB,SAAS;oBACT,SAAS;gBACX;YACF;YAEA,MAAM,OAAO,MAAM,IAAI,IAAI;YAC3B,MAAM,eAAwB;gBAAE,MAAM;gBAAa,SAAS,KAAK,OAAO;YAAC;YACzE,YAAY,CAAA,OAAQ;uBAAI;oBAAM;iBAAa;QAC7C,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,kBAAkB;QAClC,SAAU;YACR,YAAY;QACd;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;;oBACZ,SAAS,GAAG,CAAC,CAAC,GAAG,kBAChB,6LAAC;4BAAY,WAAW,CAAC,KAAK,EAAE,EAAE,IAAI,KAAK,SAAS,gBAAgB,iBAAiB;sCACnF,cAAA,6LAAC;gCAAI,WAAW,CAAC,4BAA4B,EAC3C,EAAE,IAAI,KAAK,SAAS,2BAA2B,oDAC/C;0CACC,EAAE,OAAO;;;;;;2BAJJ;;;;;oBAQX,0BAAY,6LAAC;wBAAI,WAAU;kCAA2C;;;;;;;;;;;;0BAGzE,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBACC,WAAU;wBACV,OAAO;wBACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;wBACxC,WAAW,CAAC,IAAM,EAAE,GAAG,KAAK,WAAW;wBACvC,aAAa,CAAC,QAAQ,EAAE,UAAU,GAAG,CAAC;;;;;;kCAExC,6LAAC;wBAAO,SAAS;wBAAa,WAAU;kCAA8F;;;;;;;;;;;;;;;;;;AAM9I;GAzEgB;KAAA"}},
    {"offset": {"line": 157, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/OMAR/Desktop/ai-agent-control-center/frontend/app/components/MetricsDashboard.tsx"],"sourcesContent":["// frontend/src/components/MetricsDashboard.tsx\r\nimport { LineChart, Line, XAxis, YAxis, Tooltip, ResponsiveContainer } from 'recharts';\r\n\r\n// Define the interface for the props\r\ninterface MetricsProps {\r\n  data: any[]; // This will come from useSocketMetrics()\r\n}\r\ninterface MetricsProps {\r\n  title: string;\r\n  data: any[];\r\n  dataKey: string;\r\n  color: string;\r\n}\r\n\r\nexport function MetricsDashboard({ title, data, dataKey, color }: MetricsProps) {\r\n  return (\r\n    <div className=\"bg-slate-900 p-4 rounded-xl border border-slate-800\">\r\n      <h3 className=\"text-slate-400 text-xs font-bold mb-3\">{title}</h3>\r\n      <div className=\"h-32 w-full\">\r\n        <ResponsiveContainer>\r\n          <LineChart data={data}>\r\n            <Line \r\n              type=\"monotone\" \r\n              dataKey={dataKey} \r\n              stroke={color} \r\n              dot={false} \r\n              isAnimationActive={false} \r\n            />\r\n          </LineChart>\r\n        </ResponsiveContainer>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AAAA,+CAA+C;AAC/C;AAAA;AAAA;;;AAaO,SAAS,iBAAiB,EAAE,KAAK,EAAE,IAAI,EAAE,OAAO,EAAE,KAAK,EAAgB;IAC5E,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAG,WAAU;0BAAyC;;;;;;0BACvD,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC,6LAAmB;8BAClB,cAAA,6LAAC,qKAAS;wBAAC,MAAM;kCACf,cAAA,6LAAC,+JAAI;4BACH,MAAK;4BACL,SAAS;4BACT,QAAQ;4BACR,KAAK;4BACL,mBAAmB;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOjC;KAnBgB"}},
    {"offset": {"line": 228, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/OMAR/Desktop/ai-agent-control-center/frontend/app/lib/socket.tsx"],"sourcesContent":["import { io, Socket } from 'socket.io-client';\r\n\r\n// The URL should match your backend server address\r\nconst SOCKET_URL = process.env.NEXT_PUBLIC_BACKEND_URL || 'http://localhost:4000';\r\n\r\nexport const socket: Socket = io(SOCKET_URL, {\r\n  autoConnect: true,\r\n  reconnection: true,\r\n  reconnectionAttempts: 5,\r\n  // This helps prevent CORS issues during development\r\n  withCredentials: true \r\n});"],"names":[],"mappings":";;;;AAGmB;AAHnB;;AAEA,mDAAmD;AACnD,MAAM,aAAa,6DAAuC;AAEnD,MAAM,SAAiB,IAAA,wLAAE,EAAC,YAAY;IAC3C,aAAa;IACb,cAAc;IACd,sBAAsB;IACtB,oDAAoD;IACpD,iBAAiB;AACnB"}},
    {"offset": {"line": 251, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/OMAR/Desktop/ai-agent-control-center/frontend/app/hooks/useSocketMetrics.ts"],"sourcesContent":["import { useEffect, useState } from 'react';\r\nimport { socket } from '../lib/socket';\r\n// frontend/src/hooks/useSocketMetrics.ts\r\nexport function useSocketMetrics() {\r\n    const [metrics, setMetrics] = useState({\r\n      latency: [] as any[],\r\n      tokens: [] as any[],\r\n      messages: [] as any[]\r\n    });\r\n    const [isLive, setIsLive] = useState(false);\r\n  \r\n    useEffect(() => {\r\n      const onConnect = () => setIsLive(true);\r\n      const onDisconnect = () => setIsLive(false);\r\n  \r\n      const onTelemetry = (newPoint: any) => {\r\n        setMetrics((prev) => {\r\n          // Use the 'type' field from the backend to decide which array to update\r\n          const targetKey = newPoint.type as keyof typeof metrics; \r\n          \r\n          if (!prev[targetKey]) return prev;\r\n  \r\n          return {\r\n            ...prev,\r\n            [targetKey]: [...prev[targetKey], newPoint].slice(-20)\r\n          };\r\n        });\r\n      };\r\n  \r\n      socket.on('connect', onConnect);\r\n      socket.on('disconnect', onDisconnect);\r\n      socket.on('telemetry_update', onTelemetry);\r\n  \r\n      return () => {\r\n        socket.off('connect', onConnect);\r\n        socket.off('disconnect', onDisconnect);\r\n        socket.off('telemetry_update', onTelemetry);\r\n      };\r\n    }, []);\r\n  \r\n    return { metrics, isLive };\r\n  }"],"names":[],"mappings":";;;;AAAA;AACA;;;;AAEO,SAAS;;IACZ,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;QACrC,SAAS,EAAE;QACX,QAAQ,EAAE;QACV,UAAU,EAAE;IACd;IACA,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,yKAAQ,EAAC;IAErC,IAAA,0KAAS;sCAAC;YACR,MAAM;wDAAY,IAAM,UAAU;;YAClC,MAAM;2DAAe,IAAM,UAAU;;YAErC,MAAM;0DAAc,CAAC;oBACnB;kEAAW,CAAC;4BACV,wEAAwE;4BACxE,MAAM,YAAY,SAAS,IAAI;4BAE/B,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE,OAAO;4BAE7B,OAAO;gCACL,GAAG,IAAI;gCACP,CAAC,UAAU,EAAE;uCAAI,IAAI,CAAC,UAAU;oCAAE;iCAAS,CAAC,KAAK,CAAC,CAAC;4BACrD;wBACF;;gBACF;;YAEA,kIAAM,CAAC,EAAE,CAAC,WAAW;YACrB,kIAAM,CAAC,EAAE,CAAC,cAAc;YACxB,kIAAM,CAAC,EAAE,CAAC,oBAAoB;YAE9B;8CAAO;oBACL,kIAAM,CAAC,GAAG,CAAC,WAAW;oBACtB,kIAAM,CAAC,GAAG,CAAC,cAAc;oBACzB,kIAAM,CAAC,GAAG,CAAC,oBAAoB;gBACjC;;QACF;qCAAG,EAAE;IAEL,OAAO;QAAE;QAAS;IAAO;AAC3B;GAtCc"}},
    {"offset": {"line": 319, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/OMAR/Desktop/ai-agent-control-center/frontend/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { ChatInterface } from \"./components/ChatInterface\";\nimport { MetricsDashboard } from \"./components/MetricsDashboard\";\nimport { useSocketMetrics } from \"./hooks/useSocketMetrics\";\n\nexport default function Home() {\n  const { metrics, isLive } = useSocketMetrics();\n  \n  // For the assessment, you can hardcode a default agent \n  // or add a state to switch between created agents.\n  const [selectedAgent] = useState({\n    id: \"clp-123\", // Example ID from your DB\n    name: \"Support Intelligence\",\n    model: \"gpt-4\",\n    systemPrompt: \"You are a helpful AI assistant.\"\n  });\n\n  return (\n    <div className=\"flex min-h-screen bg-zinc-950 text-white font-sans\">\n      {/* 1. Main Content Area */}\n      <main className=\"flex flex-1 flex-col p-6 gap-6\">\n        \n        {/* Header Section */}\n        <header className=\"flex items-center justify-between border-b border-zinc-800 pb-4\">\n          <div>\n            <h1 className=\"text-2xl font-bold tracking-tight\">{selectedAgent.name}</h1>\n            <p className=\"text-zinc-400 text-sm\">Active Model: {selectedAgent.model}</p>\n          </div>\n          <div className=\"flex items-center gap-2 bg-zinc-900 px-3 py-1.5 rounded-full border border-zinc-800\">\n            <span className={`h-2 w-2 rounded-full ${isLive ? 'bg-emerald-500 animate-pulse' : 'bg-red-500'}`} />\n            <span className=\"text-xs font-medium uppercase tracking-wider text-zinc-300\">\n              {isLive ? 'System Live' : 'Connecting...'}\n            </span>\n          </div>\n        </header>\n\n        {/* 2. Grid Layout */}\n        <div className=\"grid grid-cols-1 lg:grid-cols-4 gap-6 flex-1\">\n          \n          {/* Left Side: Chat Interface (Takes 3/4 space) */}\n          <div className=\"lg:col-span-3 h-[75vh]\">\n            <ChatInterface selectedAgent={selectedAgent} />\n          </div>\n\n          {/* Right Side: Analytics Panel (Takes 1/4 space) */}\n          <div className=\"lg:col-span-1 flex flex-col gap-4\">\n            <h3 className=\"text-sm font-semibold text-zinc-500 uppercase tracking-widest\">Real-time Vitals</h3>\n            \n            <MetricsDashboard \n              title=\"Latency\" \n              data={metrics.latency} \n              color=\"#10b981\" \n              dataKey=\"value\" \n            />\n            \n            <MetricsDashboard \n              title=\"Token Throughput\" \n              data={metrics.tokens} \n              color=\"#3b82f6\" \n              dataKey=\"value\" \n            />\n\n            <div className=\"mt-auto p-4 bg-zinc-900 rounded-xl border border-zinc-800\">\n              <p className=\"text-xs text-zinc-500\">\n                Agent ID: <code className=\"text-zinc-300\">{selectedAgent.id}</code>\n              </p>\n            </div>\n          </div>\n\n        </div>\n      </main>\n    </div>\n  );\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;;;AALA;;;;;AAOe,SAAS;;IACtB,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE,GAAG,IAAA,uJAAgB;IAE5C,wDAAwD;IACxD,mDAAmD;IACnD,MAAM,CAAC,cAAc,GAAG,IAAA,yKAAQ,EAAC;QAC/B,IAAI;QACJ,MAAM;QACN,OAAO;QACP,cAAc;IAChB;IAEA,qBACE,6LAAC;QAAI,WAAU;kBAEb,cAAA,6LAAC;YAAK,WAAU;;8BAGd,6LAAC;oBAAO,WAAU;;sCAChB,6LAAC;;8CACC,6LAAC;oCAAG,WAAU;8CAAqC,cAAc,IAAI;;;;;;8CACrE,6LAAC;oCAAE,WAAU;;wCAAwB;wCAAe,cAAc,KAAK;;;;;;;;;;;;;sCAEzE,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAK,WAAW,CAAC,qBAAqB,EAAE,SAAS,iCAAiC,cAAc;;;;;;8CACjG,6LAAC;oCAAK,WAAU;8CACb,SAAS,gBAAgB;;;;;;;;;;;;;;;;;;8BAMhC,6LAAC;oBAAI,WAAU;;sCAGb,6LAAC;4BAAI,WAAU;sCACb,cAAA,6LAAC,uJAAa;gCAAC,eAAe;;;;;;;;;;;sCAIhC,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAG,WAAU;8CAAgE;;;;;;8CAE9E,6LAAC,6JAAgB;oCACf,OAAM;oCACN,MAAM,QAAQ,OAAO;oCACrB,OAAM;oCACN,SAAQ;;;;;;8CAGV,6LAAC,6JAAgB;oCACf,OAAM;oCACN,MAAM,QAAQ,MAAM;oCACpB,OAAM;oCACN,SAAQ;;;;;;8CAGV,6LAAC;oCAAI,WAAU;8CACb,cAAA,6LAAC;wCAAE,WAAU;;4CAAwB;0DACzB,6LAAC;gDAAK,WAAU;0DAAiB,cAAc,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAS3E;GApEwB;;QACM,uJAAgB;;;KADtB"}}]
}